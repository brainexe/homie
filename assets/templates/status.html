<h1 translate>Stats</h1>
<accordion>
	<accordion-group ng-repeat="(section, values) in statsGroup" heading="{{section}}">
		<table class="table table-striped table-bordered table-hover">
			<thead>
			<tr>
				<th translate>Key</th>
				<th translate>Value</th>
				<th translate>Reset</th>
			</tr>
			</thead>
			<tbody>
			<tr ng-repeat="(key, value) in values">
				<th>{{ key }}</th>
				<td>{{ value }}</td>
				<td>
					<a confirm="resetStats(key)" class="btn btn-default">
						<span class="glyphicon glyphicon-remove"></span>
					</a>
				</td>
			</tr>
			</tbody>
		</table>
	</accordion-group>
</accordion>

<h1 translate>Message-Queue</h1>
<table ng-if="jobs|notEmpty" class="table table-striped table-bordered table-hover">
	<thead>
		<tr>
			<th translate>Job-ID</th>
			<th translate>Type</th>
			<th translate>Date</th>
			<th translate>Delete</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="job in jobs" ng-mouseover="job.detail=true" ng-mouseleave="job.detail=false">
			<td ng-mouseover="job.detail=true">
				{{ job.jobId|split:':':1 }}
			</td>
			<td>
				{{ job.jobId|split:':':0 }}
			</td>
			<td>
				<time-ago from-time="job.timestamp" overdue="true"></time-ago>
			</td>
			<td>
                <a confirm="deleteEvent(job.jobId)" class="btn btn-danger">
					<span class="glyphicon glyphicon-remove"></span>
				</a>
            </td>
		</tr>
		<tr ng-repeat="job in jobs">
			<td colspan="4" ng-show="job.detail">
				{{ job.event }}
			</td>
		</tr>
	</tbody>
</table>

<h1 translate>Redis Stats</h1>
<accordion>
	<accordion-group ng-repeat="(section, values) in redis" heading="{{section}}">
		<table class="table table-striped table-bordered table-hover">
			<thead>
			<tr>
				<th translate>Key</th>
				<th translate>Value</th>
			</tr>
			</thead>
			<tbody>
			<tr ng-repeat="(key, value) in values">
				<th>{{ key }}</th>
				<td>{{ value }}</td>
			</tr>
			</tbody>
		</table>
	</accordion-group>
</accordion>

<h1 translate>Cache</h1>
<table class="table table-striped table-bordered table-hover">
	<thead>
	<tr>
		<th translate>Key</th>
		<th translate>Value</th>
	</tr>
	</thead>
	<tbody>
		<tr>
			<td translate>Keys</td>
			<th>{{ cache.info().storageImpl.length }}</th>
		</tr>
		<tr>
			<td translate>Size</td>
			<th>{{cacheSize}}kb</th>
		</tr>
	</tbody>
</table>
