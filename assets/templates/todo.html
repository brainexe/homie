<div class="container-fluid">
	<div class="panel panel-primary task-list">
		<div class="panel-heading" translate>Add a task</div>
		<div class="panel-body">
			<form ng-submit="addTodo()" class="form-group">
				<input
						ng-model="newTitle"
						ng-enter="addTodo()"
						type="text"
						class="form-control"
						placeholder="{{'Title'|translate}}"
				/>
				<textarea
						ng-model="newDescription"
						ng-enter="addTodo()"
						class="form-control"
						placeholder="{{'Description'|translate}}"
						>
				</textarea>
				<input
						type="text"
						placeholder="Interval. E.g. '@daily'"
						ng-model="cronExpression"
						ng-enter="addTodo()"
						>
				<!--todo fix datetime picker-->
				<input
						type="text" class="form-control"
						uib-datepicker-popup="dd-MMMM-yyyy"
						ng-model="newDateline"
						placeholder="{{'Deadline'|translate}}"
						datepicker-options="{}"
						date-disabled="disabled(date, mode)"
						close-text="Close"
						ng-enter="addTodo()"
				/>
				<input type="submit" class="btn btn-primary" value="{{'Add Task'|translate}}" />
			</form>
			<div class="delete-div" ui-on-Drop="onDelete($data)" translate>
				Drag Here to Delete
			</div>
		</div>
	</div>

	<div
		class="panel panel-primary task-list task-container"
		 ng-repeat="(statusId, status) in states"
		 ng-model="statusId"
		 ui-on-Drop="onDrop(statusId, $event, $data, status.tasks)"
	>
		<div class="panel-heading">{{statusId|translateToken:'todo.status.{0}.name'}}</div>
		<div class="panel-body">
			<div
					ng-repeat="item in items|filter:statusId|orderBy:'name'"
					class="todo-task"
					ui-draggable="true"
					drag="item"
					>
				<div class="task-header">{{item.name}}</div>
				<div class="task-description" ng-if="item.description">{{item.description}}</div>
				<div class="task-deadline" ng-if="item.deadline > 0">
					<time-ago from-time="item.deadline" overdue="true"></time-ago>
				</div>
				<ui-select
					ng-model="item.userId"
					theme="bootstrap"
				>
					<ui-select-match placeholder="Select...">
						{{$select.selected.name}}
					</ui-select-match>
					<ui-select-choices repeat="user.userId as user in userNames|propsFilter:{name:$select.search}">
						<span ng-bind-html="user.name|highlight:$select.search"></span>
					</ui-select-choices>
				</ui-select>
			</div>
		</div>
	</div>

	<div style="clear:both;"></div>
</div>
