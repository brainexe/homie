{% extends "layout.html.twig" %}

{% block title %}Todo List{% endblock %}

{% block content %}
	<div class="task-list">
		<h3>Add a task</h3>
		<form id="todo-form">
			<input type="text" placeholder="Title" />
			<textarea placeholder="Description"></textarea>
			<input type="text" class="datetimepicker" placeholder="Deadline" />
			<input type="button" class="btn btn-primary" value="Add Task" onclick="App.Todo.add();" />
		</form>
		<div id="delete-div">
			Drag Here to Delete
		</div>
	</div>
	<div class="task-list task-container" id="pending">
		<h3>Pending</h3>
	</div>
	<div class="task-list task-container" id="progress">
		<h3>In Progress</h3>
	</div>
	<div class="task-list task-container" id="completed">
		<h3>Completed</h3>
	</div>

	<div style="clear:both;"></div>

	<script src="{{ asset_url("todo.js") }}"></script>
	<script type="text/javascript">
		App.Todo.initShoppingList({{ shopping_list|json_encode()|raw }});
		App.Todo.init({{ list|json_encode()|raw }}, {{ user_names|json_encode()|raw }});
	</script>

	<div id="shopping_list" ng-controller="TodoController">
		<h3>Shopping List</h3>
		{% verbatim %}

		<ul class="unstyled">
			<li ng-repeat="todo in todos">
				<input type="checkbox" ng-change="change(todo.text, todo.done)" ng-model="todo.done">
				<span class="done-{{todo.done}}">{{todo.text}}</span>
			</li>
		</ul>
		<form ng-submit="addTodo()">
			<input type="text" ng-model="todoText"  size="30"
				   placeholder="add new todo here">
			<input class="btn-primary" type="submit" value="add">
		</form>

		{% endverbatim %}
	</div>

{% endblock %}

