{% extends "layout.html.twig" %}

{% block title %}Scrabble{% endblock %}

{% block content %}
	<h2>Games</h2>

	<table class="table table-bordered table-striped table-hover">
		<tbody>
			<tr>
				<th>Round</th>
				<td>{{ game.round }}</td>
			</tr>
			<tr>
				<th>Points</th>
				<td>{{ game.points_sum }}</td>
			</tr>
			<tr>
				<th>Status</th>
				<td>{{ game.status }}</td>
			</tr>
		</tbody>
	</table>

	<table class="table table-bordered table-striped table-hover">
		<thead>
			<tr>
				<td>Name</td>
				<td>Summe</td>
				<td>Rounds</td>
			</tr>
		</thead>
		<tbody>
			{% for user_idx, points in user_points %}
				<tr>
					<td>{{ user_names[user_idx] }}</td>
					<td>{{ points|sum }}</td>
					<td style="font-size: 0.9em">{{ points|join(" - ") }}</td>
				</tr>
			{% endfor %}
		</tbody>

	</table>
	<form method="POST" action="/scrabble/add/">
		<label>{{ user_names[game.current_user_idx] }}
			<input name="points" autofocus="true" type="number" min="0"  value="0"/>
		</label>
		<input name="game_id" type="hidden" value="{{ game.game_id }}" />
		<input type="submit" value="Add Points"/>
	</form>

	<script src="{{ asset_url("scrabble.js") }}"></script>
	<script type="text/javascript">
		App.Scrabble.init();
	</script>
{% endblock %}

